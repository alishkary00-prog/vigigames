<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIGIGAMES - استودیو بازی‌سازی دارک</title>
    <link rel="icon" href="data:,">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">

    <script src="https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.min.js"></script>

    <style>
        #earth-widget{position:fixed;bottom:20px;left:20px;width:280px;height:280px;border:3px solid #00ffff;border-radius:50%;overflow:hidden;box-shadow:0 0 60px #00ffff;z-index:10;pointer-events:none}
        #earth-canvas{width:100%!important;height:100%!important;border-radius:50%}
        .japan-pin{position:absolute;top:39%;left:73.5%;font-size:35px;color:#ff0033;text-shadow:0 0 30px #ff0033;animation:p 1.6s infinite;pointer-events:none;z-index:20;transform:translate(-50%,-50%)}
        @keyframes p{0%,100%{opacity:.7;transform:translate(-50%,-50%)scale(1)}50%{opacity:1;transform:translate(-50%,-50%)scale(1.5)}}
        .widget-label{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);color:#00ffff;font:bold 13px 'Orbitron';letter-spacing:4px;text-shadow:0 0 20px #00ffff;pointer-events:none}
    </style>
</head>
<body>

    <div id="earth-widget">
        <canvas id="earth-canvas"></canvas>
        <div class="japan-pin">●</div>
        <div class="widget-label">BREACH ACTIVE</div>
    </div>

    <canvas id="particles"></canvas>
    <div class="smoke"></div>

    <section class="hero">
        <div>
            <h1 class="glitch">VIGIGAMES</h1>
            <p class="subtitle">تاریکی فقط آغاز ماجراست...</p>
        </div>
    </section>

    <section class="projects">
        <h2>پروژه‌های من</h2>
        <div class="grid" id="projectsGrid">
            <div style="grid-column:1/-1;text-align:center;padding:120px;color:#334455;font-size:2rem;">
                به زودی...<br><span style="font-size:1.1rem;color:#00ffff88;">در سایه‌ها منتظر باش</span>
            </div>
        </div>
    </section>

    <section class="ads-section"><h2>حمایت شده توسط</h2><div class="ads-grid" id="adsGrid"></div></section>

    <footer>© ۱۴۰۴ VIGIGAMES — تمامی حقوق محفوظ است<br><a href="admin.html" class="admin-link">ورود به پنل مدیریت</a></footer>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- کره زمین + نقطه قرمز + BREACH ACTIVE — 100٪ تضمینی -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            setTimeout(() => {
                const canvas = document.getElementById('earth-canvas');
                if (!canvas || !window.THREE) return;

                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 100);
                camera.position.z = 3.8;

                const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
                renderer.setSize(280, 280);
                renderer.setClearColor(0x000000, 0);

                // نور قوی
                scene.add(new THREE.AmbientLight(0xffffff, 4));
                const dirLight = new THREE.DirectionalLight(0x00ffff, 6);
                dirLight.position.set(5, 3, 5);
                scene.add(dirLight);

                // کره زمین (آبی نئونی خفن)
                const earth = new THREE.Mesh(
                    new THREE.SphereGeometry(1, 80, 80),
                    new THREE.MeshPhongMaterial({
                        color: 0x001133,
                        emissive: 0x00ffff,
                        emissiveIntensity: 0.8,
                        specular: 0x00ffff,
                        shininess: 100
                    })
                );
                scene.add(earth);

                // نقطه قرمز پالس‌دار روی ژاپن
                const dot = new THREE.Mesh(
                    new THREE.SphereGeometry(0.06, 32, 32),
                    new THREE.MeshBasicMaterial({ color: 0xff0033 })
                );
                dot.position.set(1.08, 0.4, 0.25);
                earth.add(dot);

                // انیمیشن پالس
                function animate() {
                    requestAnimationFrame(animate);
                    const scale = 1 + Math.abs(Math.sin(Date.now() * 0.006)) * 0.6;
                    dot.scale.setScalar(scale);
                    earth.rotation.y += 0.001;
                    renderer.render(scene, camera);
                }
                animate();

            }, 500);
        });

        // پارتیکل‌ها
        particlesJS("particles", {"particles":{"number":{"value":80},"color":{"value":"#00ffff"},"opacity":{"value":0.3},"size":{"value":3},"line_linked":{"enable":true,"color":"#00ffff","opacity":0.15},"move":{"enable":true,"speed":1.2}},"interactivity":{"events":{"onhover":{"enable":true,"mode":"repulse"}}},"retina_detect":true});
    </script>
</body>
</html>
